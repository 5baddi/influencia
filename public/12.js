(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{RnhZ:function(a,e,t){var s={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function i(a){var e=n(a);return t(e)}function n(a){if(!t.o(s,a)){var e=new Error("Cannot find module '"+a+"'");throw e.code="MODULE_NOT_FOUND",e}return s[a]}i.keys=function(){return Object.keys(s)},i.resolve=n,a.exports=i,i.id="RnhZ"},cU0F:function(a,e,t){"use strict";t.r(e);var s={data:function(){return{show:!1,campaign:{uuid:null,name:null},title:"Add new campaign"}},created:function(){var a=this;document.addEventListener("keydown",(function(e){"Escape"==e.key&&a.show&&a.close()}))},methods:{open:function(a){void 0!==a&&(this.campaign=a),void 0!==a&&"string"==typeof a.uuid&&null!==a.name&&(this.title="Update "+a.name.slice()),this.show=!0},close:function(){this.show=!1,this.campaign={uuid:null,name:null},this.title="Add new campaign"},submit:function(){var a=void 0===this.campaign.uuid||null===this.campaign.uuid?"create":"update",e={};e.name=this.campaign.name,null!==this.campaign.uuid&&(e.uuid=this.campaign.uuid),this.$emit(a,e),this.close()}}},i=t("KHd+"),n=Object(i.a)(s,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"modal",class:{"show-modal":a.show}},[t("div",{staticClass:"modal-content"},[t("header",[t("h4",{staticClass:"heading"},[a._v(a._s(a.title))])]),a._v(" "),t("div",{staticClass:"modal-form"},[t("form",[t("div",{staticClass:"control"},[t("input",{attrs:{type:"hidden"},domProps:{value:a.campaign.uuid}}),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.campaign.name,expression:"campaign.name"}],attrs:{type:"text",placeholder:"Campaign name (e.g. #FashionWeek20)"},domProps:{value:a.campaign.name},on:{input:function(e){e.target.composing||a.$set(a.campaign,"name",e.target.value)}}})]),a._v(" "),t("div",{staticClass:"modal-form__actions"},[t("button",{staticClass:"btn btn-success",on:{click:function(e){return e.preventDefault(),a.submit()}}},[a._v(a._s("string"==typeof a.campaign.uuid?"Update":"Create"))]),a._v(" "),t("button",{staticClass:"btn btn-danger",on:{click:function(e){return e.preventDefault(),a.close()}}},[a._v("Cancel")])])])])])])}),[],!1,null,null,null).exports,r=[function(){var a=this.$createElement,e=this._self._c||a;return e("a",{staticClass:"icon-link",attrs:{href:"#"}},[e("img",{attrs:{src:t("nr0K")}})])}],c=t("L2JU"),o=t("bjao"),l=t.n(o),m=t("MO+k"),u=t.n(m);function d(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,s)}return t}function p(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?d(Object(t),!0).forEach((function(e){g(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}function g(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var v={props:{campaign:{type:Object,default:function(){return{}}}},methods:{nbr:function(){return new l.a},createDoughtnutChart:function(a,e){var t=document.getElementById(a);try{new u.a(t,{type:"doughnut",data:e})}catch(a){t.style.display="none !important"}}},computed:p(p({},Object(c.b)(["AuthenticatedUser","campaigns"])),{},{fiveInfluencers:function(){return this.campaign&&void 0!==this.campaign.influencers&&this.campaign.influencers.length>0?this.campaign.influencers.slice(0,5):[]}}),mounted:function(){if(this.campaign.sentiments_positive&&this.campaign.sentiments_neutral&&this.campaign.sentiments_negative&&this.createDoughtnutChart("sentiments-chart",{datasets:[{data:[(100*this.campaign.sentiments_positive).toFixed(2),(100*this.campaign.sentiments_neutral).toFixed(2),(100*this.campaign.sentiments_negative).toFixed(2)],backgroundColor:["#AFD75C","#999999","#ED435A"]}],labels:["Positive "+(100*this.campaign.sentiments_positive).toFixed(2),"Neutral "+(100*this.campaign.sentiments_neutral).toFixed(2),"Negative "+(100*this.campaign.sentiments_negative).toFixed(2)]}),this.campaign.communities&&this.campaign.communities>0&&this.createDoughtnutChart("communities-chart",{datasets:[{data:[this.campaign.communities.toFixed(2)],backgroundColor:["#d93176"]}],labels:["Instagram"]}),this.campaign.impressions&&this.campaign.impressions>0&&this.createDoughtnutChart("impressions-chart",{datasets:[{data:[this.campaign.impressions.toFixed(2)],backgroundColor:["#d93176"]}],labels:["Instagram"]}),this.campaign.video_views&&this.campaign.video_views>0&&this.createDoughtnutChart("views-chart",{datasets:[{data:[this.campaign.video_views],backgroundColor:["#d93176"]}],labels:["Instagram"]}),this.campaign.engagements&&this.campaign.engagements>0&&this.createDoughtnutChart("engagements-chart",{datasets:[{data:[this.campaign.engagements.toFixed(2)],backgroundColor:["#d93176"]}],labels:["Instagram"]}),this.campaign.posts_count&&this.campaign.posts_count>0){var a="Instagram: "+(this.campaign.posts_count?this.campaign.posts_count:0)+" including "+(this.campaign.stories_count?this.campaign.stories_count:0)+" stories";this.createDoughtnutChart("posts-chart",{datasets:[{data:[this.campaign.posts_count.toFixed(2)],backgroundColor:["#d93176"]}],labels:[a]})}},data:function(){return{influencersColumns:[{name:"Influencer",field:"id",callback:function(a){return'<p style="display: inline-flex; align-items: center;margin:0"><img src="'+a.pic_url+'" style="margin-right:0.2rem"/>&nbsp;'+(a.name?a.name:a.username)+"</p>"}},{name:"Number of posts",field:"campaign_media",isNbr:!0,isRounded:!0,hasTotal:!0,hasAverage:!0,hasMedian:!0},{name:"Size of activated communities",field:"estimated_communities",isNativeNbr:!0,isRounded:!0,hasTotal:!0,hasAverage:!0,hasMedian:!0},{name:"Estimated impressions",field:"campaign_impressions",isNativeNbr:!0,isRounded:!0,hasTotal:!0,hasAverage:!0,hasMedian:!0},{name:"Earned Media Value",field:"earned_media_value",currency:"€",hasTotal:!0,hasAverage:!0,hasMedian:!0}],instaPostsColumns:[{name:"Influencer",field:"influencer",callback:function(a){return'<p style="display: inline-flex; align-items: center;margin:0"><img style="margin-right:0.2rem" src="'+a.influencer.pic_url+'"/>&nbsp;'+(a.influencer.parsed_name?a.influencer.parsed_name:a.influencer.username)+"</p>"}},{name:"Post",field:"link",callback:function(a){return a.link&&a.caption?'<a href="'+a.link+'" target="_blank">'+a.caption.substr(1,100)+"...</a>":"<p>---</p>"}},{name:"Media type",field:"type",capitalize:!0},{name:"Size of activated communities",field:"activated_communities",isNativeNbr:!0,isRounded:!0,hasTotal:!0,hasAverage:!0,hasMedian:!0},{name:"Estimated impressions",field:"estimated_impressions",isNativeNbr:!0,isRounded:!0,hasTotal:!0,hasAverage:!0,hasMedian:!0},{name:"Engagements",field:"engagements",isNativeNbr:!0,isRounded:!0,hasTotal:!0,hasAverage:!0,hasMedian:!0},{name:"Organic impressions (declarative)",field:"organic_impressions",isNativeNbr:!0,isRounded:!0,hasTotal:!0,hasAverage:!0,hasMedian:!0},{name:"Likes",field:"likes",isNativeNbr:!0,isRounded:!0,hasTotal:!0,hasAverage:!0,hasMedian:!0},{name:"Views",field:"video_views",isNativeNbr:!0,isRounded:!0,hasTotal:!0,hasAverage:!0,hasMedian:!0},{name:"Comments",field:"comments",isNativeNbr:!0,isRounded:!0,hasTotal:!0,hasAverage:!0,hasMedian:!0},{name:"Impressions (first sequence)"},{name:"Story sequences"},{name:"Sequence impressions"},{name:"Earned Media Value",field:"earned_media_value",currency:"€",hasTotal:!0,hasAverage:!0,hasMedian:!0},{name:"Posted at",field:"published_at"}],trackersColumns:[{name:"name",field:"name",capitalize:!0},{name:"Platform",field:"platform",callback:function(a){var e="",t="";return"instagram"===a.platform?(e="https://instagram.com/",t='<i class="fab fa-instagram instagram-icon"></i>'):"youtube"===a.platform&&(e="https://youtube.com/",t='<i class="fab fa-youtube youtube-icon"></i>'),'<a href="'+e+'" target="_blank" title="'+a.platform+'" class="icon-link">'+t+"</a>"}},{name:"type",field:"type",capitalize:!0},{name:"Status",field:"status",sortable:!1,callback:function(a){return'<span class="status status-'+(a.status?"success":"danger")+'" title="'+(a.status?"Enabled":"Disabled")+'">'+(a.queued.charAt(0).toUpperCase()+a.queued.slice(1))+"</span>"}},{name:"Created at",field:"created_at",isTimeAgo:!0}],attrActive:null,sentimentData:{labels:["Positive","Neutral","Negative"],backgroundColor:["#AFD75C","#999999","#ED435A"]}}}},h=Object(i.a)(v,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return a.campaign?t("div",{staticClass:"campaign"},[t("ul",{directives:[{name:"show",rawName:"v-show",value:a.fiveInfluencers.length>0,expression:"fiveInfluencers.length > 0"}],staticClass:"influencers-avatars"},[t("h4",[a._v("influencers")]),a._v(" "),a._l(a.fiveInfluencers,(function(a){return t("li",{key:a.id},[t("router-link",{staticClass:"icon-link",attrs:{to:{name:"influencers",params:{uuid:a.uuid}},title:a.username}},[t("img",{attrs:{src:a.pic_url,loading:"lazy"}})])],1)})),a._v(" "),a.campaign.influencers.length>5?t("li",[a._m(0)]):a._e(),a._v(" "),t("li",[t("span",{staticClass:"campaign-more-influencers"},[a._v("\r\n                "+a._s(a.campaign.influencers.length)+" Influencers linked "),a.campaign.influencers.length>5?t("router-link",{attrs:{to:"#byinfuencers"}},[a._v("See all")]):a._e()],1)]),a._v(" "),t("div",{staticClass:"count-details"},[a.campaign.stories_count&&a.campaign.stories_count>0?t("span",[t("i",{staticClass:"far fa-clock"}),a._v(" "+a._s(a.campaign.stories_count)+" stories")]):a._e(),a._v(" "),a.campaign.videos_count&&a.campaign.videos_count>0?t("span",[t("i",{staticClass:"far fa-play-circle"}),a._v(" "+a._s(a.campaign.videos_count)+" videos")]):a._e(),a._v(" "),a.campaign.images_count&&a.campaign.images_count>0?t("span",[t("i",{staticClass:"far fa-images"}),a._v(" "+a._s(a.campaign.images_count)+" posts")]):a._e(),a._v(" "),a.campaign.links_count&&a.campaign.links_count>0?t("span",[t("i",{staticClass:"fas fa-link"}),a._v(" "+a._s(a.campaign.links_count)+" links")]):a._e()])],2),a._v(" "),t("div",{staticClass:"cards statistics"},[a.campaign.communities>0?t("div",{staticClass:"card"},[t("div",{staticClass:"title"},[t("i",{staticClass:"fas fa-users egg-blue"}),a._v(" "),t("div",{staticClass:"numbers"},[t("h4",[a._v(a._s(a._f("formatedNbr")(a.campaign.communities)))]),a._v(" "),t("span",[a._v("Total size of activated communities")])])]),a._v(" "),t("canvas",{attrs:{id:"communities-chart"}})]):a._e(),a._v(" "),a.campaign.impressions>0?t("div",{staticClass:"card"},[t("div",{staticClass:"title"},[t("i",{staticClass:"fas fa-bullhorn purple"}),a._v(" "),t("div",{staticClass:"numbers"},[t("h4",[a._v(a._s(a._f("formatedNbr")(a.campaign.impressions)))]),a._v(" "),t("span",[a._v("Total estimated impressions")])])]),a._v(" "),t("canvas",{attrs:{id:"impressions-chart"}})]):a._e(),a._v(" "),a.campaign.video_views>0?t("div",{staticClass:"card"},[t("div",{staticClass:"title"},[t("i",{staticClass:"far fa-eye green"}),a._v(" "),t("div",{staticClass:"numbers"},[t("h4",[a._v(a._s(a._f("formatedNbr")(a.campaign.video_views)))]),a._v(" "),t("span",[a._v("Total videos views")])])]),a._v(" "),t("canvas",{attrs:{id:"views-chart"}}),a._v(" "),t("span",[a._v("Organic videos views "+a._s(String(a.nbr().abbreviate(a.campaign.organic_video_views)).toUpperCase())+" ("+a._s(a.campaign.video_views>0?(a.campaign.organic_video_views/a.campaign.video_views*100).toFixed(2):0)+"%)")])]):a._e(),a._v(" "),a.campaign.engagements>0?t("div",{staticClass:"card"},[t("div",{staticClass:"title"},[t("i",{staticClass:"fas fa-thumbs-up blue"}),a._v(" "),t("div",{staticClass:"numbers"},[t("h4",[a._v(a._s(a._f("formatedNbr")(a.campaign.engagements)))]),a._v(" "),t("span",[a._v("Total engagements")])])]),a._v(" "),t("canvas",{attrs:{id:"engagements-chart"}}),a._v(" "),t("span",[a._v("Organic engagements "+a._s(String(a.nbr().abbreviate(a.campaign.organic_engagements)).toUpperCase())+" ("+a._s(a.campaign.engagements>0?(a.campaign.organic_engagements/a.campaign.engagements*100).toFixed(2):0)+"%)")])]):a._e(),a._v(" "),a.campaign.posts_count>0?t("div",{staticClass:"card"},[t("div",{staticClass:"title"},[t("i",{staticClass:"fas fa-hashtag yellow"}),a._v(" "),t("div",{staticClass:"numbers"},[t("h4",[a._v(a._s(a._f("formatedNbr")(a.campaign.posts_count)))]),a._v(" "),t("span",[a._v("Total number of posts")])])]),a._v(" "),t("canvas",{attrs:{id:"posts-chart"}})]):a._e()]),a._v(" "),t("div",{staticClass:"cards sentiments"},[a.campaign.comments_count>0?t("div",{staticClass:"card"},[t("h5",[a._v("Comments sentiment")]),a._v(" "),t("canvas",{attrs:{id:"sentiments-chart"}}),a._v(" "),t("span",[a._v("Based on "+a._s(a._f("formatedNbr")(a.campaign.comments_count))+" comments")])]):a._e(),a._v(" "),a.campaign.top_emojis?t("div",{staticClass:"card emojis"},[t("h5",[a._v("Top "+a._s(a.campaign.top_emojis.top&&Object.values(a.campaign.top_emojis.top).length>1?Object.values(a.campaign.top_emojis.top).length+" ":"")+"used emoji")]),a._v(" "),t("ul",a._l(a.campaign.top_emojis.top,(function(e,s){return t("li",{key:e},[a._v("\r\n                    "+a._s(s)+"\r\n                    "),t("span",[a._v(a._s((e/(a.campaign.top_emojis.all?a.campaign.top_emojis.all:1)*100).toFixed(2))+"%")])])})),0),a._v(" "),t("span",[a._v("Based on "+a._s(a._f("formatedNbr")(a.campaign.top_emojis.all))+" emoji")])]):a._e()]),a._v(" "),t("div",{staticClass:"datatable-scroll"},[t("h4",[a._v("Performance breakdown by Influencer")]),a._v(" "),t("DataTable",{ref:"byInfluencer",attrs:{cssClasses:"table-card",columns:a.influencersColumns,nativeData:a.campaign.influencers,withPagination:!1,withTotalTab:!0,exportable:!0,exportableFields:["username","name","campaign_media","estimated_communities","campaign_impressions","earned_media_value"],fileName:"Performance breakdown by Influencer for campaign "+a.campaign.name}})],1),a._v(" "),t("div",{staticClass:"datatable-scroll",attrs:{id:"byinfluencers"}},[t("h4",[a._v("Performance breakdown by post on Instagram")]),a._v(" "),t("DataTable",{ref:"byInstaPosts",attrs:{cssClasses:"table-card",columns:a.instaPostsColumns,nativeData:a.campaign.instagram_media,withPagination:!1,withTotalTab:!0}})],1),a._v(" "),t("div",{staticClass:"datatable-scroll"},[t("h4",[a._v("List of trackers")]),a._v(" "),t("DataTable",{ref:"byTrackers",attrs:{cssClasses:"table-card",columns:a.trackersColumns,nativeData:a.campaign.trackers},scopedSlots:a._u([{key:"body-row",fn:function(e){return t("td",{},[a.$can("analytics","tracker")||a.AuthenticatedUser&&a.AuthenticatedUser.is_superadmin?t("router-link",{directives:[{name:"show",rawName:"v-show",value:"finished"===e.data.original.queued,expression:"row.data.original.queued === 'finished'"}],staticClass:"icon-link",attrs:{to:{name:"trackers",params:{uuid:e.data.original.uuid}},title:"Statistics"}},[t("i",{staticClass:"far fa-chart-bar"})]):a._e()],1)}}],null,!1,3662718142)},[t("router-link",{staticClass:"btn btn-success",attrs:{slot:"custom-buttons",disabled:!a.campaigns||void 0===a.campaigns.length||0===a.campaigns.length,to:{name:"new_tracker"}},slot:"custom-buttons"},[t("i",{staticClass:"fas fa-plus"}),a._v(" Add new tracker    \r\n            ")]),a._v(" "),t("th",{attrs:{slot:"header"},slot:"header"},[a._v("Actions")])],1)],1),a._v(" "),a.campaign&&a.campaign.posts_count>0?t("div",{staticClass:"posts-section"},[t("h4",[a._v("Posts")]),a._v(" "),t("p",[a._v("There are "+a._s(a.campaign&&a.campaign.posts_count?a.campaign.posts_count:0)+" posts for this campaign.")]),a._v(" "),t("div",{staticClass:"campaign-posts"},a._l(a.campaign.media,(function(e){return t("a",{key:e.uuid,staticClass:"campaign-posts-card",attrs:{href:e.link,target:"_blank"},on:{mouseover:function(t){a.attrActive=e.uuid},mouseleave:function(e){a.attrActive=null}}},[t("img",{attrs:{src:e.thumbnail_url,loading:"lazy"}}),a._v(" "),t("div",{staticClass:"campaign-posts-card-icons"},["instagram"===e.platform?t("i",{staticClass:"fab fa-instagram"}):a._e(),a._v(" "),"video"===e.type||"sidecar"===e.type?t("i",{class:"fas fa-"+("sidecar"===e.type?"images":"video")}):a._e()]),a._v(" "),t("div",{class:"campaign-posts-card-attr "+(a.attrActive===e.uuid?" active":"")},[e.video_views?t("span",[t("i",{staticClass:"fas fa-eye"}),a._v(a._s(String(a.nbr().abbreviate(e.video_views)).toUpperCase()))]):a._e(),a._v(" "),e.likes?t("span",[t("i",{staticClass:"fas fa-heart"}),a._v(a._s(String(a.nbr().abbreviate(e.likes)).toUpperCase()))]):a._e(),a._v(" "),e.comments?t("span",[t("i",{staticClass:"fas fa-comment"}),a._v(a._s(String(a.nbr().abbreviate(e.comments)).toUpperCase()))]):a._e()])])})),0)]):a._e()]):a._e()}),r,!1,null,null,null).exports;t("ZMUr");function f(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,s)}return t}function _(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?f(Object(t),!0).forEach((function(e){b(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}function b(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var j={components:{CreateCampaignModal:n,CampaignAnalytics:h},notifications:{showError:{type:"error",title:"Error",message:"Something going wrong! Please try again.."},showSuccess:{type:"success"},createCampaignErrors:{type:"error"},createCampaignSuccess:{type:"success"}},methods:{loadCampaigns:function(){0===Object.values(this.campaigns).length&&this.$store.dispatch("fetchCampaigns").catch((function(a){}))},fetchCampaign:function(){this.$store.dispatch("fetchCampaignAnalytics",this.$route.params.uuid).catch((function(a){}))},addCampaign:function(){this.$refs.campaignFormModal.open()},editCampaign:function(a){this.$refs.campaignFormModal.open(Object.assign({},a))},deleteCampaign:function(a){this.$refs.confirmDeleteCampaignModal.open("Are sure to delete this campaign?",a)},deleteCampaignAction:function(a){var e=this;void 0===a.uuid&&this.showError(),this.$store.dispatch("deleteCampaign",a.uuid).then((function(t){e.$refs.campaignsDT.reloadData(),e.showSuccess({message:"Successfully deleted campaign '"+a.name+"'"})})).catch((function(a){e.showError({message:a.message})}))},create:function(a){var e=this;a.brand_id=this.AuthenticatedUser.selected_brand_id,this.$store.dispatch("addNewCampaign",a).then((function(a){e.$refs.campaignsDT.reloadData(),e.showSuccess({message:a.message})})).catch((function(a){e.showError({message:a.response.data.message})}))},update:function(a){var e=this;this.$store.dispatch("updateCampaign",a).then((function(a){e.$refs.campaignsDT.reloadData(),e.showSuccess({message:a.message})})).catch((function(a){e.showError({message:a.response.data.message})}))}},computed:_(_({},Object(c.b)(["AuthenticatedUser","campaigns","campaign"])),{},{parsedCampaigns:function(){return this.campaigns},activeBrand:function(){return null!==this.AuthenticatedUser&&void 0!==this.AuthenticatedUser&&this.AuthenticatedUser.selected_brand?this.AuthenticatedUser.selected_brand:null}}),watch:{"$route.params.uuid":function(a){void 0!==a?this.fetchCampaign():this.$store.commit("setCampaign",{campaign:null})}},mounted:function(){void 0!==this.$route.params.uuid?this.fetchCampaign():(this.$store.commit("setCampaign",{campaign:null}),void 0!==this.campaigns&&null!==this.campaigns&&0!==Object.values(this.campaigns).length||this.loadCampaigns())},data:function(){return{columns:[{name:"Campaign name",field:"name"},{name:"Status",field:"status",sortable:!1,callback:function(a){return'<span class="status status-'+(a.status?"success":"danger")+'" title="'+(a.status?"Running":"Paused")+'">'+(a.status?"Running":"Paused")+"</span>"}},{name:"Activated communities",field:"communities",isNativeNbr:!0},{name:"Number of trackers",field:"trackers_count",isNbr:!0},{name:"Influencers",field:"influencers",class:"influencers-avatars-list",sortable:!1,callback:function(a){if(0===a.influencers.length)return"-";var e=a.influencers.length>3?a.influencers.slice(0,3):a.influencers,t="";return e.map((function(a,e){t+='<a href="/influencers/'+a.uuid+'" class="avatars-list" title="View '+(a.name?a.name:a.username)+' profile"><img src="'+a.pic_url+'"/>'})),a.influencers.length>3&&(t+='<a href="#" title="'+a.influencers.length+' Influencers linked"><img src="/images/more.png"/></a>'),t}},{name:"Last update",field:"updated_at",isTimeAgo:!0}]}}},C=Object(i.a)(j,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"campaigns"},[a.campaign?t("div",{staticClass:"campaign-header"},[t("span",[a._v("Campaign "),t("strong",[a._v(a._s(a.campaign.name))])])]):t("div",{staticClass:"hero"},[a._m(0),a._v(" "),a.$can("create","campaign")||a.AuthenticatedUser&&a.AuthenticatedUser.is_superadmin?t("div",{staticClass:"hero__actions"},[t("button",{staticClass:"btn btn-success",attrs:{disabled:!a.activeBrand},on:{click:function(e){return a.addCampaign()}}},[a._v("Add new campaign")])]):a._e()]),a._v(" "),a.campaign?a._e():t("div",{staticClass:"p-1"},[a.$can("analytics","campaign")||a.AuthenticatedUser&&a.AuthenticatedUser.is_superadmin?t("header",{staticClass:"cards"},[t("div",{staticClass:"card"},[t("div",{staticClass:"number"},[a._v(a._s(a._f("formatedNbr")(a.campaigns.length)))]),a._v(" "),t("p",{staticClass:"description"},[a._v("NUMBER OF CAMPAIGNS")])])]):a._e(),a._v(" "),a.$can("list","campaign")||a.AuthenticatedUser&&a.AuthenticatedUser.is_superadmin?t("div",{staticClass:"datatable-scroll"},[t("DataTable",{ref:"campaignsDT",attrs:{columns:a.columns,searchable:!0,searchCols:["name","influencer"],nativeData:a.parsedCampaigns,fetchMethod:"fetchCampaigns",cssClasses:"table-card"},scopedSlots:a._u([{key:"body-row",fn:function(e){return t("td",{},[a.$can("analytics","campaign")||a.AuthenticatedUser&&a.AuthenticatedUser.is_superadmin?t("router-link",{directives:[{name:"show",rawName:"v-show",value:e.data.original.trackers_count>0,expression:"row.data.original.trackers_count > 0"}],staticClass:"icon-link",attrs:{to:{name:"campaigns",params:{uuid:e.data.original.uuid}},title:"Statistics"}},[t("i",{staticClass:"far fa-chart-bar datatable-icon"})]):a._e(),a._v(" "),a.$can("list","tracker")||a.AuthenticatedUser&&a.AuthenticatedUser.is_superadmin?t("router-link",{directives:[{name:"show",rawName:"v-show",value:e.data.original.trackers_count>0,expression:"row.data.original.trackers_count > 0"}],staticClass:"icon-link",attrs:{to:{name:"campaign_trackers",params:{campaign:e.data.original.uuid}},title:"Show trackers"}},[t("i",{staticClass:"fas fa-list"})]):a._e(),a._v(" "),a.$can("edit","campaign")||a.AuthenticatedUser&&a.AuthenticatedUser.is_superadmin?t("button",{staticClass:"btn icon-link",attrs:{title:"Edit campaign"},on:{click:function(t){return a.editCampaign(e.data.original)}}},[t("i",{staticClass:"fas fa-pen datatable-icon"})]):a._e(),a._v(" "),a.$can("start-stop-tracking","campaign")||a.AuthenticatedUser&&a.AuthenticatedUser.is_superadmin?t("button",{staticClass:"btn icon-link",attrs:{title:"Stop tracking"},on:{click:function(t){return a.disableCampaign(e)}}},[t("i",{staticClass:"far fa-stop-circle datatable-icon"})]):a._e(),a._v(" "),a.$can("delete","campaign")||a.AuthenticatedUser&&a.AuthenticatedUser.is_superadmin?t("button",{staticClass:"btn icon-link",attrs:{title:"Delete campaign"},on:{click:function(t){return a.deleteCampaign(e.data.original)}}},[t("i",{staticClass:"far fa-trash-alt datatable-icon"})]):a._e()],1)}}],null,!1,1545961479)},[t("th",{attrs:{slot:"header"},slot:"header"},[a._v("Actions")])])],1):a._e()]),a._v(" "),t("CreateCampaignModal",{ref:"campaignFormModal",on:{create:a.create,update:a.update}}),a._v(" "),a.campaign?t("CampaignAnalytics",{attrs:{campaign:a.campaign}}):a._e(),a._v(" "),t("ConfirmationModal",{ref:"confirmDeleteCampaignModal",on:{custom:a.deleteCampaignAction}})],1)}),[function(){var a=this.$createElement,e=this._self._c||a;return e("div",{staticClass:"hero__intro"},[e("h1",[this._v("Campaigns")]),this._v(" "),e("ul",{staticClass:"breadcrumbs"},[e("li",[e("a",{attrs:{href:"#"}},[this._v("Dashboard")])]),this._v(" "),e("li",[e("a",{attrs:{href:"#"}},[this._v("Campaigns")])])])])}],!1,null,null,null);e.default=C.exports},nr0K:function(a,e){a.exports="/images/more.png?01227267fe89e713015bb9cc24dac9f1"}}]);