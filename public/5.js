(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+gXy":function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,".loader{background:#fff;transition:opacity .15s ease-in;position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;display:flex;align-items:center;justify-content:center;font-size:62pt;color:#039be5;overflow:hidden;z-index:100000000}.loader--hidden{display:none;pointer-events:all}",""])},F2Ec:function(t,e){t.exports="/images/log-inf.png?736bb81d7e0cf6f7c8b429b67103b625"},Iqfu:function(t,e,s){"use strict";s("NPG0")},NPG0:function(t,e,s){var a=s("+gXy");"string"==typeof a&&(a=[[t.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(a,n);a.locals&&(t.exports=a.locals)},YKjO:function(t,e){t.exports="/images/log-inf-mini.png?cb0e0db2e4056db3b4e2923ed7a1fd31"},hoop:function(t,e,s){"use strict";s.r(e);var a={data:function(){return{navCurrentState:!0}},props:{authenticatedUser:{type:[Object,void 0]}},computed:{currentRouteName:function(){return this.$route.name},isNavOpen:function(){return this.navCurrentState}},methods:{toggle:function(){this.navCurrentState=!this.navCurrentState,!1===this.navCurrentState?(document.body.classList.add("nav-collapsed"),document.getElementById("main-sidebar").addEventListener("mouseenter",this.removeClass),document.getElementById("main-sidebar").addEventListener("mouseleave",this.addClass)):(document.getElementById("main-sidebar").removeEventListener("mouseenter",this.removeClass),document.getElementById("main-sidebar").removeEventListener("mouseleave",this.addClass),document.body.classList.remove("nav-collapsed"))},addClass:function(){document.body.classList.add("nav-collapsed")},removeClass:function(){document.body.classList.remove("nav-collapsed")}}},n=s("KHd+"),i=Object(n.a)(a,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"dashboard__sidebar",attrs:{id:"main-sidebar"}},[a("header",[a("div",{staticClass:"dashboard__sidebar--content"},[a("div",{staticClass:"logo"},[a("router-link",{attrs:{to:{name:"dashboard"}}},[a("img",{directives:[{name:"show",rawName:"v-show",value:t.isNavOpen,expression:"isNavOpen"}],attrs:{src:s("F2Ec"),alt:"logo"}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:!t.isNavOpen,expression:"!isNavOpen"}],attrs:{src:s("YKjO"),alt:"logo"}})])],1)]),t._v(" "),a("button",{staticClass:"dashboard__sidebar--toggle btn",on:{click:t.toggle}},[a("span"),t._v(" "),a("span"),t._v(" "),a("span")])]),t._v(" "),a("nav",{staticClass:"dashboard__sidebar__navigation"},[a("ul",[a("li",{class:{active:"dashboard"==t.currentRouteName}},[a("router-link",{attrs:{to:{name:"dashboard"}}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-columns"})]),t._v(" "),a("span",{staticClass:"text"},[t._v("Dashboard")])])],1),t._v(" "),t.$can("search","scraper")||t.authenticatedUser&&t.authenticatedUser.is_superadmin?a("li",{class:{active:"search"==t.currentRouteName}},[a("router-link",{attrs:{to:{name:"search"}}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-search"})]),t._v(" "),a("span",{staticClass:"text"},[t._v("Search")])])],1):t._e(),t._v(" "),t.$can("list","campaign")||t.authenticatedUser&&t.authenticatedUser.is_superadmin?a("li",{class:{active:"campaigns"==t.currentRouteName}},[a("router-link",{attrs:{to:{name:"campaigns"}}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-chart-pie"})]),t._v(" "),a("span",{staticClass:"text"},[t._v("Campaigns")])])],1):t._e(),t._v(" "),t.$can("list","tracker")||t.authenticatedUser&&t.authenticatedUser.is_superadmin?a("li",{class:{active:"trackers"==t.currentRouteName}},[a("router-link",{attrs:{to:{name:"trackers"}}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-code-branch"})]),t._v(" "),a("span",{staticClass:"text"},[t._v("Trackers")])])],1):t._e(),t._v(" "),t.$can("list","tracker")||t.authenticatedUser&&t.authenticatedUser.is_superadmin?a("li",{class:{active:"stories"==t.currentRouteName}},[a("router-link",{attrs:{to:{name:"stories"}}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"far fa-clock"})]),t._v(" "),a("span",{staticClass:"text"},[t._v("Stories")])])],1):t._e(),t._v(" "),t.$can("list","influencer")||t.authenticatedUser&&t.authenticatedUser.is_superadmin?a("li",{class:{active:"influencers"==t.currentRouteName}},[a("router-link",{attrs:{to:{name:"influencers"}}},[a("div",{staticClass:"icon"},[a("i",{staticClass:"fas fa-podcast"})]),t._v(" "),a("div",{staticClass:"text"},[t._v("Influencers")])])],1):t._e(),t._v(" "),t.$can("list","brand")||t.authenticatedUser&&t.authenticatedUser.is_superadmin?a("li",{class:{active:"brands"==t.currentRouteName}},[a("router-link",{attrs:{to:{name:"brands"}}},[a("div",{staticClass:"icon"},[a("i",{staticClass:"fas fa-copyright"})]),t._v(" "),a("div",{staticClass:"text"},[t._v("Brands")])])],1):t._e(),t._v(" "),t.$can("list","user")||t.authenticatedUser&&t.authenticatedUser.is_superadmin?a("li",{class:{active:"users"==t.currentRouteName}},[a("router-link",{attrs:{to:{name:"users"}}},[a("div",{staticClass:"icon"},[a("i",{staticClass:"fas fa-users"})]),t._v(" "),a("div",{staticClass:"text"},[t._v("Users")])])],1):t._e()])])])}),[],!1,null,null,null).exports,r={props:{isSwitch:{type:Boolean,default:!1},brands:{type:Array},activeBrand:{type:[Object,void 0]}},data:function(){return{showDropdown:!1}},watch:{showDropdown:function(t,e){t&&this.showDropdown&&document.body.addEventListener("click",this.hideDropdown),t||document.body.removeEventListener("click",this.hideDropdown)}},computed:{selectedBrand:function(){return this.activeBrand&&void 0!==this.activeBrand&&void 0!==this.activeBrand.name?this.activeBrand:{name:null,logo:null}}},methods:{switchBrand:function(t,e){var s=this;this.$store.dispatch("setActiveBrand",t).then((function(){s.showDropdown=!1})).catch((function(t){}))},hideDropdown:function(t){t.target.closest(".dashboard__navigation--item")||(this.showDropdown=!1)}}},o=Object(n.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashboard__navigation--item"},[t.isSwitch?[t.selectedBrand&&null!==t.selectedBrand.name?s("button",{staticClass:"btn",on:{click:function(e){t.showDropdown=!t.showDropdown}}},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:t.selectedBrand.logo,alt:""}})]),t._v(" "),s("div",{staticClass:"text"},[s("p",[t._v(t._s(t.selectedBrand.name))]),t._v(" "),s("div",{staticClass:"icon"},[s("svg",{staticClass:"sc-fzqAbL fPXfOL",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",color:"#000629"}},[s("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[s("circle",{attrs:{cx:"12",cy:"12",r:"12"}}),t._v(" "),s("path",{attrs:{fill:"#000",d:"M12.492 12.283L7.306 7 5 9.35 12.492 17 20 9.35 17.677 7z"}})])])])])]):t._e(),t._v(" "),t.showDropdown?s("div",{staticClass:"dropdown"},[t.brands&&t.brands.length>0?s("ul",t._l(t.brands,(function(e,a){return s("li",{key:e.id},[s("a",{on:{click:function(s){return s.preventDefault(),t.switchBrand(e,a)}}},[s("div",{staticClass:"icon"},[s("img",{attrs:{src:e.logo}})]),t._v(" "),s("div",{staticClass:"text"},[t._v(t._s(e.name))])])])})),0):t._e()]):t._e()]:[s("button",{staticClass:"btn",on:{click:function(e){t.showDropdown=!t.showDropdown}}},[t._t("button")],2),t._v(" "),t.showDropdown?s("div",{staticClass:"dropdown"},[t._t("dropdown")],2):t._e()]],2)}),[],!1,null,null,null).exports,c=s("L2JU"),d={name:"Loader",props:["visible"]},l=(s("Iqfu"),Object(n.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader",class:{"loader--hidden":!this.visible}},[e("i",{staticClass:"fas fa-spinner fa-spin"})])}),[],!1,null,null,null).exports),u=s("itN8"),v=s("4Q4p");function h(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function p(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?h(Object(s),!0).forEach((function(e){f(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function f(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var m={components:{MainNav:i,TopNavItem:o,Loader:l},computed:p(p(p({},Object(c.c)("Loader",["loading"])),Object(c.b)(["AuthenticatedUser","brands"])),{},{activeBrand:function(){return null!==this.AuthenticatedUser&&void 0!==this.AuthenticatedUser&&this.AuthenticatedUser.selected_brand?this.AuthenticatedUser.selected_brand:null}}),watch:{showDropdown:function(t,e){t&&this.showDropdown&&document.body.addEventListener("click",this.hideDropdown),t||document.body.removeEventListener("click",this.hideDropdown)}},notifications:{showSuccessLogout:{type:"success",message:"Bye!"}},methods:{loadBrands:function(){this.$store.dispatch("fetchBrands").catch((function(t){}))},hideDropdown:function(t){t.target.closest(".dashboard__navigation--item")||(this.showDropdown=!1)},logout:function(){var t=this;this.$store.dispatch("logout").finally((function(){t.showSuccessLogout(),t.$router.push({name:"login"}).catch((function(){}))}))}},beforeRouteEnter:function(t,e,s){s((function(t){t.$store.getters.isLogged?u.a.get("/api/abilities").then((function(t){void 0!==t.data.content&&v.a.update(t.data.content)})).catch((function(t){})):s({name:"login"})}))},mounted:function(){void 0!==this.brands&&null!==this.brands&&0!==Object.values(this.brands).length||this.loadBrands()},data:function(){return{showDropdown:!1}}},_=Object(n.a)(m,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"dashboard",attrs:{id:"main"}},[s("MainNav",{attrs:{authenticatedUser:t.AuthenticatedUser}}),t._v(" "),s("div",{ref:"content",staticClass:"dashboard__content",attrs:{id:"content"}},[s("div",{staticClass:"dashboard__navigation"},[s("TopNavItem",{staticClass:"nav-switch",attrs:{brands:t.brands,activeBrand:t.activeBrand,isSwitch:!0}}),t._v(" "),s("TopNavItem",{attrs:{isSwitch:!1},scopedSlots:t._u([t.AuthenticatedUser?{key:"button",fn:function(){return[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:"https://ui-avatars.com/api/?color=039be5&name="+t.AuthenticatedUser.name}})]),t._v(" "),s("div",{staticClass:"text"},[s("p",[t._v(t._s(t.AuthenticatedUser.name))]),t._v(" "),s("div",{staticClass:"icon"},[s("svg",{staticClass:"sc-fzqAbL fPXfOL",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",color:"#000629"}},[s("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[s("circle",{attrs:{cx:"12",cy:"12",r:"12"}}),t._v(" "),s("path",{attrs:{fill:"#000",d:"M12.492 12.283L7.306 7 5 9.35 12.492 17 20 9.35 17.677 7z"}})])])])])]},proxy:!0}:null,{key:"dropdown",fn:function(){return[s("ul",[t.$can("edit-info","user")||t.AuthenticatedUser&&t.AuthenticatedUser.is_superadmin?s("li",[s("router-link",{attrs:{to:{name:"settings"}}},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-user-cog"})]),t._v(" "),s("div",{staticClass:"text"},[t._v("Settings")])])],1):t._e(),t._v(" "),s("li",[s("a",{attrs:{href:"javascript:void(0);"},on:{click:t.logout}},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-lock"})]),t._v(" "),s("div",{staticClass:"text"},[t._v("Logout")])])])])]},proxy:!0}],null,!0)})],1),t._v(" "),s("div",{staticClass:"dashboard__content__page"},[s("Loader",{attrs:{visible:t.loading}}),t._v(" "),s("router-view")],1)])],1)}),[],!1,null,null,null);e.default=_.exports}}]);